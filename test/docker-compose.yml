version: '3'
services:
  webserv:
    build: docker
    container_name: webserv
    ports:
      - 49200:8080
    volumes:
      - ../:/root/workdir
      - ./public:/public
    stop_grace_period: 1s
    command: [ "/root/configurations/sample.conf" ]

  nginx:
    image: nginx:latest
    container_name: nginx
    ports:
      - 49201:80
    volumes:
      - ./public:/public
      - ./conf/default.conf:/etc/nginx/conf.d/default.conf

  apache:
    image: httpd:latest
    container_name: apache
    ports:
      - 49202:80
    volumes:
      - ./public:/public
